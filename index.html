<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>Document</title>
	<script src="../../../代码/js/function/function.js"></script>
</head>
<style>
	.da{
		width: 100px;
		height: 100px;
		border:1px solid #000;
		float: left;
	}
	.selected{
		background:rgba(0,0,0,0.1);
	}
</style>
<body>
	<div class="da"></div>
	<div class="da"></div>
	<div class="da"></div>
	<div class="da"></div>
	<div class="da"></div>
</body>
<script>
  var a=$(".da")
    for(var i=0;i<a.length;i++){
    	a[i].onclick=(function(){
    		var flag=true
    		return function(e){
	    		if(flag){
	    			if(e.ctrlKey){
	    				this.className="da selected"
	    				var r=Math.floor(Math.random()*255)
	    				var g=Math.floor(Math.random()*255)
	    				var b=Math.floor(Math.random()*255)
	    				this.style.backgroundColor="rgb("+r+","+g+","+b+")"
	    				flag=false
	    			}
	    		}else{
	    			this.style.position="static"
	    			this.className="da"
	    			this.style.backgroundColor="transparent"
	    			flag=true
	    		}
    		}
    	})()
    }
    document.ondblclick=function(e){
    	var b=$(".selected")
    	for(i=0;i<b.length;i++){
    		var h=b[i].offsetHeight
    		var w=b[i].offsetWidth
    		var top=e.clientY-h/2
    		var left=e.clientX-w/2
    		b[i].style.position="absolute"
    		b[i].style.top=top+"px"
    		b[i].style.left=left+"px"
    	}
    }
    document.onmousedown=function(e){
    	document.onmouseup=function(ev){
    		var top=ev.clientY-e.clientY
    		var left=ev.clientX-e.clientX
    		var sel=$(".selected")
    		for(var i=0;i<sel.length;i++){
    			sel[i].style.top=sel[i].offsetTop+top+"px"
    			sel[i].style.left=sel[i].offsetLeft+left+"px"
    		}
    	}
    }
	// var a=$(".da")[0]
	// a.onclick=(function(){
	// 	var kaiguan=true
	// 	return function(e){
	// 		if(e.shiftKey&&e.altKey&&e.ctrlKey){
	// 			this.className=kaiguan?"da selected":"da"
	// 			console.log(a)
	// 			kaiguan=!kaiguan
	// 		}
	// 	}

	// })()
	// var a=$(".da")
	// for(var i=0;i<a.length;i++){
	// 	a[i].onclick=(function(){
	// 		var kaiguan=true
	// 		return function(e){
	// 			if(kaiguan){
	// 				if(e.ctrlKey){
	// 					this.className="da selected"
	// 					var r=Math.floor(Math.random()*255)
	// 					var g=Math.floor(Math.random()*255)
	// 					var b=Math.floor(Math.random()*255)
	// 					this.style.background="rgb("+r+","+g+","+b+")"
	// 					kaiguan=!kaiguan
	// 				}	
	// 			}else{
	// 				this.className="da"
	// 				this.style.background="transparent"
	// 				this.style.position="static"
	// 				kaiguan=true
	// 			}
	// 				document.ondblclick=function(e){
	// 					var b=$(".selected")
	// 					for(var i=0;i<b.length;i++){	
	// 						var h=b[i].offsetHeight
	// 						var w=b[i].offsetWidth
	// 						var left=e.clientX-w/2
	// 						var top=e.clientY-h/2
	// 						b[i].style.position="absolute"
	// 						b[i].style.left=left+"px"
	// 						b[i].style.top=top+"px"
							
	// 					}
	// 				}
	// 		}
	// 	})()	
	// }
	// a.onmouseover=function(e){
	// 	console.log("mouseover",e)
	// }
	// a.onmousemove=function(e){
	// 	console.log("mousemove",e)
	// }
	// a.onmouseout=function(e){
	// 	console.log("mouseout",e)
	// }
	// a.onmousedown=function(e){
	// 	console.log("mousedown",e)
	// }
	// a.ondblclick=function(e){
	// 	console.log("dblclick",e)
	// }
	// a.onmouseup=function(e){
	// 	console.log("mouseup",e)
	// }
</script>
</html>